<table *ngIf="listOfAppoinments" class="table table-striped table-ligth">
  <thead class="table-dark">
    <tr>
      <ng-container
        *ngFor="let item of (listOfAppoinments | any)[0] | keyvalue"
      >
        <ng-template
          *ngIf="item.key !== 'Objeto'; then thenThBlock"
        ></ng-template>
        <ng-template #thenThBlock>
          <th class="text-center fw-bold" #thenThBlock>
            {{ item.key }}
          </th></ng-template
        >
      </ng-container>
      <th *ngIf="listOfAppoinments.length > 0" class="text-center fw-bold">
        ACCION
      </th>
    </tr>
  </thead>
  <tbody class="table-group-divider">
    <tr *ngFor="let element of listOfAppoinments | any">
      <ng-container *ngFor="let item of element | keyvalue">
        <ng-template
          *ngIf="item.key !== 'Objeto'; then thenTdBlock"
        ></ng-template>

        <ng-template #thenTdBlock>
          <ng-template
            *ngIf="
              item.key === 'Calificacion Brindada' ||
                item.key === 'Calificacion Recibida';
              then thenRatingBlock;
              else elseNoRatingBlock
            "
          ></ng-template>
          <ng-template #thenRatingBlock>
            <td class="text-center">
              <p-rating
                [(ngModel)]="item.value"
                [readonly]="true"
                [cancel]="false"
              ></p-rating></td
          ></ng-template>
          <ng-template #elseNoRatingBlock>
            <td class="text-center">
              {{ item.value }}
            </td></ng-template
          >
        </ng-template>
      </ng-container>

      <td *ngIf="listOfAppoinments.length > 0" class="text-center">
        <input
          type="button"
          [ngClass]="'btn btn-outline-success'"
          value="Seleccionar"
          (click)="chooseElement(element.Objeto)"
        />
      </td>
    </tr>
  </tbody>
</table>
